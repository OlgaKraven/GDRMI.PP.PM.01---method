<!DOCTYPE html><html lang="ru" class="no-js"><head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="universal_data_model.html">
      
      
        <link rel="next" href="backend_implementation.html">
      
      
        
      
      
      <link rel="icon" href="../assets/icons/logo.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.3">
    
    
      
        <title>Жанровая адаптацию ИС - Проектирование и разработка информационных систем</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.484c7ddc.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  <link href="../assets/stylesheets/glightbox.min.css" rel="stylesheet"><script src="../assets/javascripts/glightbox.min.js"></script><style id="glightbox-style">
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color); }
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color); }
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color); }
        </style></head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#1-3" class="md-skip">
          Перейти к содержанию
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Верхний колонтитул">
    <a href="../index.html" title="Проектирование и разработка информационных систем" class="md-header__button md-logo" aria-label="Проектирование и разработка информационных систем" data-md-component="logo">
      
  <img src="../assets/icons/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Проектирование и разработка информационных систем
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Жанровая адаптацию ИС
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Поиск" placeholder="Поиск" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
      </label>
      <nav class="md-search__options" aria-label="Поиск">
        
        <button type="reset" class="md-search__icon md-icon" title="Очистить" aria-label="Очистить" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Инициализация поиска
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Навигация" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../index.html" title="Проектирование и разработка информационных систем" class="md-nav__button md-logo" aria-label="Проектирование и разработка информационных систем" data-md-component="logo">
      
  <img src="../assets/icons/logo.png" alt="logo">

    </a>
    Проектирование и разработка информационных систем
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Главная
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Теория
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Теория
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="architecture.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Архиектурная модель
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="universal_data_model.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Универсальная модель данных
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Жанровая адаптацию ИС
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="genre_adaptation.html" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Жанровая адаптацию ИС
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Содержание">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Содержание
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#31" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.1. Шаблон расширения под жанр (как мыслить системно)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.1. Шаблон расширения под жанр (как мыслить системно)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#311" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.1.1. Какая “единица игрового процесса”?
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#312" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.1.2. Что сервер подтверждает как “истину”?
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#313" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.1.3. Какие метрики нужны?
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#314" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.1.4. Какие данные “снимком” и какие “журналом”?
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#315" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.1.5. Где нужны транзакции?
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#316" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.1.6. Универсальный паттерн схемы жанра
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#32-economic" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2. Экономический симулятор (Economic)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.2. Экономический симулятор (Economic)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#321" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2.1. Единица процесса
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#322" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2.2. Добавляемые сущности (таблицы) — с логикой зачем
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#323" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2.3. Сервер подтверждает как истину
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#324" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2.4. Метрики
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#325-game_events" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2.5. Примеры ключевых событий (game_events)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#33-idle-clicker" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.3. Idle / Clicker
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.3. Idle / Clicker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#331" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.3.1. Единица процесса
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.3.1. Единица процесса">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#332" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.3.2. Добавляемые сущности — с объяснением
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#333" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.3.3. Сервер подтверждает
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#334" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.3.4. Метрики
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#335" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.3.5. События
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#34-rpg" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.4. RPG
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.4. RPG">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#341" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.4.1. Единица процесса
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#342" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.4.2. Добавляемые сущности — что за что отвечает
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#343" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.4.3. Сервер подтверждает
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#344" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.4.4. Метрики
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#345" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.4.5. События
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#35-strategy-tower-defense" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.5. Strategy / Tower Defense
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.5. Strategy / Tower Defense">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#351" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.5.1. Единица процесса
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#352" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.5.2. Добавляемые сущности — минимальный “боевой модуль”
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#353" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.5.3. Сервер подтверждает
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#354" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.5.4. Метрики
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#355" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.5.5. События
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#36-shooter-action" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.6. Shooter / Action
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.6. Shooter / Action">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#361" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.6.1. Единица процесса
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#362" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.6.2. Добавляемые сущности — “телеметрия боя”
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#363" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.6.3. Сервер подтверждает
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#364" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.6.4. Метрики
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#365" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.6.5. События
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#37-visual-novel" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.7. Visual Novel
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.7. Visual Novel">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#371" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.7.1. Единица процесса
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#372" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.7.2. Добавляемые сущности — “состояние истории”
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#373" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.7.3. Сервер подтверждает
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#374" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.7.4. Метрики
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#375" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.7.5. События
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#38-educational-game" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.8. Educational Game
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.8. Educational Game">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#381" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.8.1. Единица процесса
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#382" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.8.2. Добавляемые сущности — “обучающий контур”
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#383" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.8.3. Сервер подтверждает
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#384" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.8.4. Метрики
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#385" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.8.5. События
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#39-survival" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.9. Survival
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.9. Survival">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#391" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.9.1. Единица процесса
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#392" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.9.2. Добавляемые сущности — “контур выживания”
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#393" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.9.3. Сервер подтверждает
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#394" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.9.4. Метрики
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#395" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.9.5. События
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="backend_implementation.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Реализация backendа
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="api_design.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    API дизайн
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="game_integration.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Интеграция с игрой
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3">
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Практика
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Практика
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../practice/architecture.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Архиектурная модель
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../practice/universal_data_model.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Универсальная модель данных
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../practice/genre_adaptation.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Жанровая адаптация ИС
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../practice/backend_implementation.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Реализация backendа
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../practice/api_design.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    API дизайн
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../practice/game_integration.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Интеграция с игрой
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Содержание">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Содержание
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#31" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.1. Шаблон расширения под жанр (как мыслить системно)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.1. Шаблон расширения под жанр (как мыслить системно)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#311" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.1.1. Какая “единица игрового процесса”?
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#312" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.1.2. Что сервер подтверждает как “истину”?
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#313" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.1.3. Какие метрики нужны?
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#314" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.1.4. Какие данные “снимком” и какие “журналом”?
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#315" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.1.5. Где нужны транзакции?
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#316" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.1.6. Универсальный паттерн схемы жанра
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#32-economic" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2. Экономический симулятор (Economic)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.2. Экономический симулятор (Economic)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#321" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2.1. Единица процесса
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#322" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2.2. Добавляемые сущности (таблицы) — с логикой зачем
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#323" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2.3. Сервер подтверждает как истину
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#324" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2.4. Метрики
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#325-game_events" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2.5. Примеры ключевых событий (game_events)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#33-idle-clicker" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.3. Idle / Clicker
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.3. Idle / Clicker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#331" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.3.1. Единица процесса
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.3.1. Единица процесса">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#332" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.3.2. Добавляемые сущности — с объяснением
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#333" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.3.3. Сервер подтверждает
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#334" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.3.4. Метрики
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#335" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.3.5. События
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#34-rpg" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.4. RPG
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.4. RPG">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#341" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.4.1. Единица процесса
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#342" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.4.2. Добавляемые сущности — что за что отвечает
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#343" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.4.3. Сервер подтверждает
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#344" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.4.4. Метрики
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#345" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.4.5. События
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#35-strategy-tower-defense" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.5. Strategy / Tower Defense
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.5. Strategy / Tower Defense">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#351" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.5.1. Единица процесса
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#352" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.5.2. Добавляемые сущности — минимальный “боевой модуль”
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#353" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.5.3. Сервер подтверждает
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#354" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.5.4. Метрики
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#355" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.5.5. События
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#36-shooter-action" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.6. Shooter / Action
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.6. Shooter / Action">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#361" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.6.1. Единица процесса
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#362" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.6.2. Добавляемые сущности — “телеметрия боя”
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#363" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.6.3. Сервер подтверждает
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#364" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.6.4. Метрики
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#365" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.6.5. События
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#37-visual-novel" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.7. Visual Novel
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.7. Visual Novel">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#371" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.7.1. Единица процесса
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#372" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.7.2. Добавляемые сущности — “состояние истории”
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#373" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.7.3. Сервер подтверждает
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#374" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.7.4. Метрики
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#375" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.7.5. События
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#38-educational-game" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.8. Educational Game
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.8. Educational Game">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#381" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.8.1. Единица процесса
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#382" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.8.2. Добавляемые сущности — “обучающий контур”
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#383" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.8.3. Сервер подтверждает
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#384" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.8.4. Метрики
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#385" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.8.5. События
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#39-survival" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.9. Survival
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.9. Survival">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#391" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.9.1. Единица процесса
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#392" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.9.2. Добавляемые сущности — “контур выживания”
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#393" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.9.3. Сервер подтверждает
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#394" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.9.4. Метрики
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#395" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.9.5. События
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="1-3">1. Теория. 3. Жанровая адаптация ИС сопровождения игрового продукта</h1>
<p>Жанровая адаптация — это <strong>проектирование надстройки над ядром</strong>. Ядро (Users/Sessions/Events/Progress/Stats/Leaderboard) отвечает за общие механизмы сопровождения, а жанровый модуль отвечает за <strong>доменные правила</strong> конкретной игры: экономика, бои, сюжет, обучение, выживание.</p>
<p>Ключевое правило архитектора:</p>
<blockquote>
<p><strong>Ядро не ломаем.</strong>
Любой жанр добавляет <em>свои таблицы</em>, которые привязываются к <code>users</code> и к центральной “единице игрового процесса” (<code>match/run/episode/cycle</code>).
Все важные действия логируются через <code>game_events</code> (универсальная шина событий).</p>
</blockquote>
<hr>
<h2 id="31">3.1. Шаблон расширения под жанр (как мыслить системно)</h2>
<p>Перед добавлением таблиц студент отвечает на 5 вопросов (так меньше ошибок):</p>
<h3 id="311">3.1.1. Какая “единица игрового процесса”?</h3>
<p>Это объект, вокруг которого строится основная логика:</p>
<ul>
<li><strong>match</strong> — короткая автономная сессия с результатом (Shooter/TD/Strategy)</li>
<li><strong>run</strong> — попытка “выжить/пройти”, часто с перманентной смертью (Survival/Roguelike)</li>
<li><strong>episode/chapter</strong> — продвижение по истории (Visual Novel)</li>
<li><strong>cycle/day/tick</strong> — экономика по периодам (Economic)</li>
<li><strong>session + offline period</strong> — доход/прогресс во времени (Idle)</li>
</ul>
<p><strong>Почему важно выбрать “единицу”:</strong>
без неё вы не сможете:</p>
<ul>
<li>правильно фиксировать результат,</li>
<li>считать метрики (winrate, completion),</li>
<li>делать транзакции “итог → награда → прогресс”.</li>
</ul>
<hr>
<h3 id="312">3.1.2. Что сервер подтверждает как “истину”?</h3>
<p>Сервер подтверждает то, что влияет на:</p>
<ul>
<li><strong>экономику</strong> (валюта/ресурсы/покупки/апгрейды),</li>
<li><strong>прогресс</strong> (уровни, главы, открытые зоны),</li>
<li><strong>соревнование</strong> (score/win/lose/MMR),</li>
<li><strong>античит</strong> (пределы значений, монотонность времени, лимиты операций).</li>
</ul>
<p><strong>Почему это не оставляют клиенту:</strong>
клиент можно модифицировать; если доверять ему валюту/результаты — игрок “нарисует” себе прогресс.</p>
<hr>
<h3 id="313">3.1.3. Какие метрики нужны?</h3>
<p>Две группы:</p>
<p><strong>Операционные (для UI игрока)</strong></p>
<ul>
<li>то, что показывается в профиле/истории матчей/экран статистики.</li>
</ul>
<p><strong>Продуктовые (для аналитики)</strong></p>
<ul>
<li>retention, churn, баланс, монетизация, точки “отвала”.</li>
</ul>
<hr>
<h3 id="314">3.1.4. Какие данные “снимком” и какие “журналом”?</h3>
<ul>
<li><strong>Журнал (log)</strong>: <code>game_events</code> и жанровые журналы (actions, transactions) — нужны для расследований.</li>
<li><strong>Снимок (state)</strong>: <code>player_progress</code>, <code>user_story_state</code>, <code>company_resources</code> — нужно для быстрых загрузок.</li>
</ul>
<p><strong>Почему разделяем:</strong>
журнал растёт, снимок позволяет быстро работать без пересчётов.</p>
<hr>
<h3 id="315">3.1.5. Где нужны транзакции?</h3>
<p>Транзакции обязательны там, где в одном действии меняются:</p>
<ul>
<li>факт результата (match_finish/run_end),</li>
<li>награда,</li>
<li>прогресс,</li>
<li>статистика,</li>
<li>лидерборд.</li>
</ul>
<p>Если не сделать транзакцию, появится “полу-записанный успех”.</p>
<hr>
<h3 id="316">3.1.6. Универсальный паттерн схемы жанра</h3>
<p>Почти любой жанр укладывается в конструкцию:</p>
<ul>
<li><code>X</code> — центральная сущность процесса (<code>matches</code>, <code>runs</code>, <code>episodes</code>, <code>cycles</code>)</li>
<li><code>X_events</code> / <code>X_actions</code> — журнал действий внутри процесса</li>
<li><code>X_result</code> — итог процесса (score/win/duration/ending)</li>
<li><code>user_X_state</code> — “состояние игрока в жанре” (если нужно)</li>
</ul>
<p>И всё это:</p>
<ul>
<li>привязано к <code>users</code></li>
<li>и логируется в <code>game_events</code> ключевыми событиями</li>
</ul>
<hr>
<h2 id="32-economic">3.2. Экономический симулятор (Economic)</h2>
<h3 id="321">3.2.1. Единица процесса</h3>
<p><strong>Цикл экономики</strong>: <code>day/tick/cycle</code>.
В экономике “матча” обычно нет, зато есть периодическое производство/рынок.</p>
<h3 id="322">3.2.2. Добавляемые сущности (таблицы) — с логикой зачем</h3>
<ul>
<li><code>companies</code> — профиль бизнеса игрока (уровень компании, специализация)</li>
<li><code>assets</code> — активы (заводы, офисы, техника) + уровень апгрейда</li>
<li><code>resources</code> — справочник ресурсов (дерево, металл, энергия)</li>
<li><code>company_resources</code> — остатки (склад): <strong>снимок</strong> ресурсов</li>
<li><code>production_jobs</code> — задания производства (что производим, сколько, когда готово)</li>
<li><code>contracts</code> — сделки (поставки/заказы) + состояние</li>
<li><code>market_prices</code> — цены по времени/региону (если есть рынок)</li>
<li><code>transactions</code> — финансовый журнал (приход/расход)</li>
</ul>
<p><strong>Почему <code>transactions</code> обязательно:</strong>
без журнала финансов вы не докажете, почему “пропали деньги”.</p>
<h3 id="323">3.2.3. Сервер подтверждает как истину</h3>
<ul>
<li>списания и начисления денег/ресурсов (по правилам, не по клиенту),</li>
<li>выполнение производства и выпуск продукции,</li>
<li>завершение контрактов,</li>
<li>рыночные цены (если общий рынок).</li>
</ul>
<h3 id="324">3.2.4. Метрики</h3>
<p>Операционные:</p>
<ul>
<li>cash balance, inventory by resource</li>
<li>profit/day, revenue/day</li>
<li>production throughput (единиц/час)</li>
</ul>
<p>Продуктовые:</p>
<ul>
<li>ROI апгрейдов</li>
<li>bottlenecks: где дефицит ресурсов</li>
<li>ценовая эластичность: как игроки реагируют на рынок</li>
<li>прогресс “уровня компании”</li>
</ul>
<h3 id="325-game_events">3.2.5. Примеры ключевых событий (game_events)</h3>
<ul>
<li><code>production_start</code>, <code>production_finish</code></li>
<li><code>contract_accept</code>, <code>contract_complete</code></li>
<li><code>transaction</code> (или <code>currency_change</code>)</li>
</ul>
<p>Пример payload:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">"eventType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"contract_complete"</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"payload"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">"contractId"</span><span class="p">:</span><span class="w"> </span><span class="mi">501</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"reward"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"money"</span><span class="p">:</span><span class="w"> </span><span class="mi">1200</span><span class="w"> </span><span class="p">},</span>
<span class="w">    </span><span class="nt">"spent"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"wood"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="nt">"metal"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<hr>
<h2 id="33-idle-clicker">3.3. Idle / Clicker</h2>
<h3 id="331">3.3.1. Единица процесса</h3>
<p><strong>Сессия + офлайн-период</strong>.
Главная проблема жанра — честно считать время и доход.</p>
<h4 id="332">3.3.2. Добавляемые сущности — с объяснением</h4>
<ul>
<li><code>generators</code> — справочник генераторов дохода (шахта, ферма)</li>
<li><code>user_generators</code> — уровень/количество генераторов игрока (<strong>снимок</strong>)</li>
<li><code>upgrades</code> + <code>user_upgrades</code> — перки, влияющие на формулы дохода</li>
<li><code>boosters</code> — временные усилители</li>
<li><code>offline_income</code> — факт выдачи офлайн-дохода (чтобы не получить дважды)</li>
</ul>
<p><strong>Почему <code>offline_income</code> обязателен:</strong>
иначе игрок сможет повторно “забрать офлайн-награду”.</p>
<h4 id="333">3.3.3. Сервер подтверждает</h4>
<ul>
<li>серверное время последней активности,</li>
<li>формулу офлайн-дохода,</li>
<li>списание валюты за апгрейды,</li>
<li>лимиты бустеров.</li>
</ul>
<h4 id="334">3.3.4. Метрики</h4>
<p>Операционные:</p>
<ul>
<li>income_per_second</li>
<li>offline_income_claimed</li>
<li>generator_distribution (какие уровни у игроков)</li>
</ul>
<p>Продуктовые:</p>
<ul>
<li>progression curve (скорость роста)</li>
<li>retention vs offline reward</li>
<li>pay conversion на ускорители</li>
</ul>
<h4 id="335">3.3.5. События</h4>
<ul>
<li><code>offline_claim</code></li>
<li><code>generator_upgrade</code></li>
<li><code>booster_activate</code></li>
</ul>
<hr>
<h2 id="34-rpg">3.4. RPG</h2>
<h3 id="341">3.4.1. Единица процесса</h3>
<p><strong>Персонаж + активности</strong> (квесты/бои/данжи).</p>
<h3 id="342">3.4.2. Добавляемые сущности — что за что отвечает</h3>
<ul>
<li><code>characters</code> — если персонажей несколько (класс, уровень)</li>
<li><code>character_stats</code> — параметры (STR/DEX/HP/MP)</li>
<li><code>items</code> — справочник предметов</li>
<li><code>inventory_items</code> — инвентарь (item_id, qty, bind, durability)</li>
<li><code>equipment_slots</code> / <code>character_equipment</code> — экипировка</li>
<li><code>skills</code> / <code>character_skills</code> — навыки</li>
<li><code>quests</code> / <code>quest_steps</code> / <code>user_quests</code> — прогресс квестов</li>
<li><code>loot_drops</code> — факт выдачи лута (для античита и расследований)</li>
</ul>
<p><strong>Почему <code>loot_drops</code> часто нужен:</strong>
иначе “я выбил легендарку, но пропала” невозможно расследовать.</p>
<h3 id="343">3.4.3. Сервер подтверждает</h3>
<ul>
<li>выдачу предметов (drop) и их редкость,</li>
<li>завершение квестов и награды,</li>
<li>прокачку навыков,</li>
<li>операции инвентаря (нельзя “дублировать” предмет).</li>
</ul>
<h3 id="344">3.4.4. Метрики</h3>
<p>Операционные:</p>
<ul>
<li>прогресс по квестам, сила персонажа (power)</li>
<li>rarity distribution</li>
</ul>
<p>Продуктовые:</p>
<ul>
<li>quest funnel (где застревают)</li>
<li>баланс предметов/билдов</li>
<li>темп прокачки по уровням</li>
</ul>
<h3 id="345">3.4.5. События</h3>
<ul>
<li><code>quest_complete</code></li>
<li><code>item_grant</code>, <code>item_equip</code></li>
<li><code>skill_upgrade</code></li>
</ul>
<hr>
<h2 id="35-strategy-tower-defense">3.5. Strategy / Tower Defense</h2>
<h3 id="351">3.5.1. Единица процесса</h3>
<p><strong>Матч/забег + волны</strong>.</p>
<h3 id="352">3.5.2. Добавляемые сущности — минимальный “боевой модуль”</h3>
<ul>
<li><code>matches</code> — матч (mode/map/season/status)</li>
<li><code>match_waves</code> — волны (wave_number, enemies_killed, base_hp_left)</li>
<li><code>towers/buildings</code> — справочник</li>
<li><code>player_buildings</code> — постоянный прогресс башен игрока (если есть)</li>
<li><code>match_build_actions</code> — журнал действий (build/upgrade/sell)</li>
<li><code>battle_results</code> — итог (is_win, score, duration, wave_reached)</li>
</ul>
<p><strong>Почему <code>match_build_actions</code> полезен:</strong>
это главный источник баланса и расследований “как игрок прошёл волну”.</p>
<h3 id="353">3.5.3. Сервер подтверждает</h3>
<ul>
<li>экономику строительства (хватало ресурсов),</li>
<li>валидность волнового прогресса,</li>
<li>расчёт наград,</li>
<li>попадание в лидерборд.</li>
</ul>
<h3 id="354">3.5.4. Метрики</h3>
<p>Операционные:</p>
<ul>
<li>winrate, wave_reached, avg_duration</li>
<li>base_hp_left trend</li>
</ul>
<p>Продуктовые:</p>
<ul>
<li>difficulty funnel по волнам</li>
<li>эффективность башен (pick rate vs win)</li>
<li>баланс карт</li>
</ul>
<h3 id="355">3.5.5. События</h3>
<ul>
<li><code>match_start</code>, <code>match_finish</code></li>
<li><code>build</code>, <code>upgrade</code></li>
<li><code>wave_end</code></li>
</ul>
<hr>
<h2 id="36-shooter-action">3.6. Shooter / Action</h2>
<h3 id="361">3.6.1. Единица процесса</h3>
<p><strong>Матч</strong>, иногда <strong>раунды</strong>.</p>
<h3 id="362">3.6.2. Добавляемые сущности — “телеметрия боя”</h3>
<ul>
<li><code>matches</code> / <code>rounds</code></li>
<li><code>weapons</code></li>
<li><code>player_loadouts</code></li>
<li><code>match_kills</code> / <code>match_deaths</code> / <code>assists</code></li>
<li><code>shots_agg</code> (shots_fired, shots_hit) — лучше агрегатом, а не каждый выстрел</li>
<li><code>damage_events</code> (опционально для расследований)</li>
</ul>
<p><strong>Почему “выстрелы лучше агрегатом”:</strong>
логировать каждый выстрел = огромный объём events → БД “умирает”.</p>
<h3 id="363">3.6.3. Сервер подтверждает</h3>
<ul>
<li>результат матча,</li>
<li>античит пороги (accuracy, fire rate),</li>
<li>рейтинг/ранг,</li>
<li>награды.</li>
</ul>
<h3 id="364">3.6.4. Метрики</h3>
<p>Операционные:</p>
<ul>
<li>K/D, accuracy, HS rate</li>
</ul>
<p>Продуктовые:</p>
<ul>
<li>weapon balance</li>
<li>подозрительность профилей</li>
<li>удержание по режимам</li>
</ul>
<h3 id="365">3.6.5. События</h3>
<ul>
<li><code>match_finish</code></li>
<li><code>kill</code> (агрегировать: кто/чем/где)</li>
<li><code>shots_summary</code></li>
</ul>
<hr>
<h2 id="37-visual-novel">3.7. Visual Novel</h2>
<h3 id="371">3.7.1. Единица процесса</h3>
<p><strong>Эпизод/глава/узел истории</strong>.</p>
<h3 id="372">3.7.2. Добавляемые сущности — “состояние истории”</h3>
<ul>
<li><code>story_nodes</code> — узлы сюжета</li>
<li><code>choices</code> — варианты выбора</li>
<li><code>user_story_state</code> — текущий узел + флаги веток (<strong>снимок</strong>)</li>
<li><code>user_choices</code> — факты выборов (<strong>журнал</strong>)</li>
<li><code>endings</code> + <code>user_endings</code> — концовки</li>
</ul>
<p><strong>Почему нужен и snapshot, и journal:</strong></p>
<ul>
<li>snapshot быстро грузит “где я остановился”</li>
<li>journal объясняет “какие выборы я делал” (и помогает метрикам).</li>
</ul>
<h3 id="373">3.7.3. Сервер подтверждает</h3>
<ul>
<li>факты выбора,</li>
<li>открытие концовок,</li>
<li>прогресс на разных устройствах.</li>
</ul>
<h3 id="374">3.7.4. Метрики</h3>
<p>Операционные:</p>
<ul>
<li>current node/chapter</li>
<li>endings unlocked</li>
</ul>
<p>Продуктовые:</p>
<ul>
<li>distribution choices</li>
<li>chapter funnel (где бросают)</li>
<li>completion rate</li>
</ul>
<h3 id="375">3.7.5. События</h3>
<ul>
<li><code>choice_made</code></li>
<li><code>chapter_complete</code></li>
<li><code>ending_unlocked</code></li>
</ul>
<hr>
<h2 id="38-educational-game">3.8. Educational Game</h2>
<h3 id="381">3.8.1. Единица процесса</h3>
<p><strong>Урок/модуль + попытка</strong>.</p>
<h3 id="382">3.8.2. Добавляемые сущности — “обучающий контур”</h3>
<ul>
<li><code>lessons/modules</code></li>
<li><code>tasks/questions</code></li>
<li><code>attempts</code> — попытки (start_at, end_at, score)</li>
<li><code>answers</code> (опционально)</li>
<li><code>mastery</code> — уровень освоения</li>
<li><code>certificates</code> (если выдаются)</li>
</ul>
<p><strong>Почему attempts обязательно:</strong>
это базовый аудит: кто когда решал и какой результат.</p>
<h3 id="383">3.8.3. Сервер подтверждает</h3>
<ul>
<li>оценивание (не доверять клиенту “я решил на 100”),</li>
<li>лимиты попыток,</li>
<li>прогресс mastery.</li>
</ul>
<h3 id="384">3.8.4. Метрики</h3>
<p>Операционные:</p>
<ul>
<li>score per lesson</li>
<li>time per task</li>
</ul>
<p>Продуктовые:</p>
<ul>
<li>error frequency by topic</li>
<li>learning curve</li>
<li>dropout points</li>
</ul>
<h3 id="385">3.8.5. События</h3>
<ul>
<li><code>attempt_start</code>, <code>attempt_finish</code></li>
<li><code>task_failed</code> (с типом ошибки)</li>
<li><code>module_complete</code></li>
</ul>
<hr>
<h2 id="39-survival">3.9. Survival</h2>
<h3 id="391">3.9.1. Единица процесса</h3>
<p><strong>Run / survival_session</strong> (забег/жизнь).</p>
<h3 id="392">3.9.2. Добавляемые сущности — “контур выживания”</h3>
<ul>
<li><code>runs</code> — забеги (start/end/status)</li>
<li><code>run_states</code> (опционально снапшоты состояния)</li>
<li><code>resources_collected</code></li>
<li><code>crafting_recipes</code> + <code>crafted_items</code></li>
<li><code>world_events</code></li>
<li><code>death_events</code> (причина смерти)</li>
</ul>
<p><strong>Почему run_states опционально:</strong>
нужен, если игра поддерживает:</p>
<ul>
<li>resume,</li>
<li>сохранение состояния в середине,</li>
<li>синхронизацию между устройствами.</li>
</ul>
<h3 id="393">3.9.3. Сервер подтверждает</h3>
<ul>
<li>время выживания,</li>
<li>крафт и списание,</li>
<li>причину смерти,</li>
<li>награды/штрафы.</li>
</ul>
<h3 id="394">3.9.4. Метрики</h3>
<p>Операционные:</p>
<ul>
<li>survival_time</li>
<li>resources/min</li>
</ul>
<p>Продуктовые:</p>
<ul>
<li>death reasons distribution</li>
<li>difficulty spikes</li>
<li>retention vs run length</li>
</ul>
<h3 id="395">3.9.5. События</h3>
<ul>
<li><code>run_start</code>, <code>run_end</code></li>
<li><code>craft_item</code></li>
<li><code>death</code></li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg>
  К началу
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "..", "features": ["content.code.copy", "content.image.zoom", "navigation.top", "navigation.tracking", "toc.follow"], "search": "../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u043e \u0432 \u0431\u0443\u0444\u0435\u0440", "clipboard.copy": "\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432 \u0431\u0443\u0444\u0435\u0440", "search.result.more.one": "\u0415\u0449\u0451 1 \u043d\u0430 \u044d\u0442\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435", "search.result.more.other": "\u0415\u0449\u0451 # \u043d\u0430 \u044d\u0442\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435", "search.result.none": "\u0421\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e", "search.result.one": "\u041d\u0430\u0439\u0434\u0435\u043d\u043e 1 \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0435", "search.result.other": "\u041d\u0430\u0439\u0434\u0435\u043d\u043e \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439: #", "search.result.placeholder": "\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430", "search.result.term.missing": "\u041e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442", "select.version": "\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0435\u0440\u0441\u0438\u044e"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="https://unpkg.com/mermaid@10/dist/mermaid.min.js"></script>
      
        <script src="../assets/js/mermaid-init.js"></script>
      
    
  
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(()=>{ lightbox.reload(); });
</script></body></html>